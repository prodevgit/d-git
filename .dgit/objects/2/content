import datetime

from rest_framework import serializers
from rest_framework.fields import SerializerMethodField

from product.models import Product, StockLog


class ProductSerializer(serializers.ModelSerializer):

    class Meta:
        model = Product
        fields = '__all__'

class ProductUpdateSerializer(serializers.ModelSerializer):

    class Meta:
        model = Product
        exclude = ['object_id','quantity','qr']

class StockLogSerializer(serializers.ModelSerializer):
    product = SerializerMethodField()
    date = SerializerMethodField()

    def get_product(self,stocklog):
        return stocklog.product.name

    def get_date(self,stocklog):
        date = stocklog.date.date()
        return date

    class Meta:
        model = StockLog
        fields = '__all__'
